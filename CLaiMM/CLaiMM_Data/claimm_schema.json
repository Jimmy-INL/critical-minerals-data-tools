{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://edx.netl.doe.gov/schemas/claimm/v1/dataset.json",
  "title": "CLAIMM Dataset Schema",
  "description": "JSON Schema for NETL EDX CLAIMM (Critical Minerals and Materials) datasets. This schema describes the structure of datasets in the CLAIMM collection, which focuses on critical minerals, rare earth elements, mine waste, and related energy data.",
  "type": "object",
  "required": ["id", "name", "title", "resources"],
  "properties": {
    "id": {
      "type": "string",
      "format": "uuid",
      "description": "Unique identifier for the dataset (UUID format)"
    },
    "name": {
      "type": "string",
      "description": "URL-safe name/slug for the dataset",
      "pattern": "^[a-z0-9-]+$"
    },
    "title": {
      "type": "string",
      "description": "Human-readable title of the dataset",
      "minLength": 1,
      "maxLength": 500
    },
    "notes": {
      "type": ["string", "null"],
      "description": "Detailed description of the dataset (may contain HTML/Markdown)"
    },
    "author": {
      "type": ["string", "null"],
      "description": "Author or creator of the dataset"
    },
    "organization": {
      "type": ["string", "null"],
      "description": "Organization that owns or maintains the dataset"
    },
    "tags": {
      "type": "array",
      "description": "Categorization tags for the dataset",
      "items": {
        "type": "string"
      },
      "uniqueItems": true
    },
    "groups": {
      "type": "array",
      "description": "EDX groups this dataset belongs to",
      "items": {
        "type": "string",
        "enum": [
          "claimm-datasets",
          "claimm-tools",
          "claimm-databases",
          "claimm-geochemistry",
          "claimm-geology-geophysics",
          "claimm-geographic-boundaries",
          "claimm-global-scale-datasets",
          "claimm-national-scale-datasets",
          "claimm-infrastructure",
          "claimm-mine-waste",
          "claimm-mines-deposits",
          "claimm-rare-earth-elements",
          "claimm-literature-and-presentations"
        ]
      }
    },
    "metadata_created": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 timestamp when the dataset was created"
    },
    "metadata_modified": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 timestamp when the dataset was last modified"
    },
    "resources": {
      "type": "array",
      "description": "Files and resources contained in this dataset",
      "items": {
        "$ref": "#/$defs/Resource"
      }
    },
    "category": {
      "type": "string",
      "description": "Primary category based on content analysis",
      "enum": [
        "Rare Earth Elements",
        "Coal & Coal Byproducts",
        "Produced Water",
        "Mine Waste",
        "Geochemistry",
        "Geographic/GIS",
        "Geology",
        "Tools & Applications",
        "Other"
      ]
    }
  },
  "$defs": {
    "Resource": {
      "type": "object",
      "description": "A file or resource within a dataset",
      "required": ["id", "name"],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Unique identifier for the resource"
        },
        "name": {
          "type": "string",
          "description": "Filename or resource name"
        },
        "description": {
          "type": ["string", "null"],
          "description": "Description of the resource contents"
        },
        "format": {
          "type": ["string", "null"],
          "description": "File format/type",
          "enum": [
            "CSV",
            "DOCX",
            "FIG",
            "FILE GEODATABASE",
            "GSS",
            "HTML",
            "M",
            "MP4",
            "OAD",
            "PDF",
            "PLAIN",
            "RTF",
            "TIF",
            "TXT",
            "XLSM",
            "XLSX",
            "ZIP",
            null
          ]
        },
        "size": {
          "type": ["integer", "null"],
          "description": "File size in bytes",
          "minimum": 0
        },
        "url": {
          "type": ["string", "null"],
          "format": "uri",
          "description": "Direct URL to access/download the resource"
        },
        "download_url": {
          "type": "string",
          "format": "uri",
          "description": "EDX download URL pattern: https://edx.netl.doe.gov/resource/{id}/download"
        },
        "created": {
          "type": ["string", "null"],
          "format": "date-time",
          "description": "ISO 8601 timestamp when the resource was created"
        },
        "last_modified": {
          "type": ["string", "null"],
          "format": "date-time",
          "description": "ISO 8601 timestamp when the resource was last modified"
        },
        "mimetype": {
          "type": ["string", "null"],
          "description": "MIME type of the resource"
        },
        "hash": {
          "type": ["string", "null"],
          "description": "Hash/checksum of the file for integrity verification"
        }
      }
    },
    "TagCategory": {
      "type": "string",
      "description": "Common tag categories in CLAIMM data",
      "enum": [
        "Geology",
        "REE",
        "Critical Minerals",
        "Marcellus Shale",
        "USGS",
        "Resource",
        "Geochemistry",
        "NEWTS",
        "Water Quality",
        "Geochemists Workbench",
        "OLI Systems",
        "Coal",
        "Natural Gas",
        "Geographic",
        "Well Data",
        "GIS",
        "Oil",
        "Fluids",
        "Energy Infrastructure",
        "Produced Water",
        "Mine Waste",
        "Tailings",
        "Lithium",
        "Cobalt",
        "Nickel",
        "Manganese",
        "Graphite",
        "Rare Earth Elements",
        "Carbon Storage",
        "Unconventional Resources"
      ]
    }
  },
  "examples": [
    {
      "id": "b8e30ba8-22ed-4ac8-9d5c-ac05ed5831ac",
      "name": "ree-and-coal-open-geodatabase",
      "title": "REE and Coal Open Geodatabase",
      "notes": "A comprehensive geodatabase containing rare earth element and coal resource data...",
      "author": "NETL",
      "organization": "National Energy Technology Laboratory",
      "tags": ["REE", "Coal", "Geochemistry", "Critical Minerals"],
      "groups": ["claimm-databases", "claimm-geochemistry", "claimm-rare-earth-elements"],
      "metadata_created": "2024-01-15T10:30:00.000000",
      "metadata_modified": "2024-06-20T14:45:00.000000",
      "category": "Rare Earth Elements",
      "resources": [
        {
          "id": "abc12345-1234-5678-abcd-1234567890ab",
          "name": "REE_Coal_Data.csv",
          "description": "CSV export of REE concentrations in coal samples",
          "format": "CSV",
          "size": 1048576,
          "url": "https://edx.netl.doe.gov/dataset/ree-and-coal/resource/abc12345/download",
          "download_url": "https://edx.netl.doe.gov/resource/abc12345-1234-5678-abcd-1234567890ab/download",
          "created": "2024-01-15T10:30:00.000000",
          "last_modified": "2024-06-20T14:45:00.000000"
        }
      ]
    }
  ]
}
